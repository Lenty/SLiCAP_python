

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Netlist lines &mdash; SLiCAP 1.6.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/myStyle.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Devices and built-in models" href="devices.html" />
    <link rel="prev" title="SLiCAP netlist syntax" href="SLiCAPnetlistSyntax.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SLiCAP
          

          
          </a>

          
            
            
              <div class="version">
                1.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/SLiCAPintroduction.html">SLiCAP introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/SLiCAPuserguide.html">SLiCAP user guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="SLiCAPnetlistSyntax.html">SLiCAP netlist syntax</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Netlist lines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#breaking-long-lines">Breaking long lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comment">Comment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numbers">Numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expressions">Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reserved-sympy-symbols-and-slicap-built-in-variables">Reserved (sympy) symbols and SLiCAP built-in variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#title-line">Title line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lib-line">.lib line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subckt-ends-lines">.subckt … .ends lines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#passing-sub-circuit-parameters">Passing sub circuit parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#model-line">.model line</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#passing-model-parameters">Passing model parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#param-line">.param line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-definition-lines">Device definition lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#end-line">.end line</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="devices.html">Devices and built-in models</a></li>
<li class="toctree-l2"><a class="reference internal" href="schematics.html">Schematic capture for SLiCAP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/SLiCAPdevelopment.html">SLiCAP development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/SLiCAPreference.html">SLiCAP reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/SLiCAPtutorials.html">SLiCAP tutorials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SLiCAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="SLiCAPnetlistSyntax.html">SLiCAP netlist syntax</a> &raquo;</li>
        
      <li>Netlist lines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/syntax/netlist.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="netlist-lines">
<h1>Netlist lines<a class="headerlink" href="#netlist-lines" title="Permalink to this heading">¶</a></h1>
<p>Like with SPICE, a netlist description is organized in lines. The syntax for the symbolic simulator is SPICE compatible.</p>
<p>Since there exist various SPICE dialects, and since symbolic simulation requires a more complex handling of parameters in sub circuits and models, the correct SLiCAP netlist syntax has been described in the following sub sections.</p>
<div class="section" id="breaking-long-lines">
<h2>Breaking long lines<a class="headerlink" href="#breaking-long-lines" title="Permalink to this heading">¶</a></h2>
<p>Long input lines can be split into a multiple of shorter lines. Lines starting with a plus sign <code class="docutils literal notranslate"><span class="pre">+</span></code> will be added to the previous line; without the plus sign itself. Leading and trailing white space characters of netlist lines are ignored.</p>
</div>
<div class="section" id="comment">
<h2>Comment<a class="headerlink" href="#comment" title="Permalink to this heading">¶</a></h2>
<p>Any line starting with an asterix: <code class="docutils literal notranslate"><span class="pre">*</span></code> is considered as comment and will not be processed by the netlist parser. Any input following a semicolon <code class="docutils literal notranslate"><span class="pre">;</span></code> is also considered as comment and ignored.</p>
</div>
<div class="section" id="numbers">
<h2>Numbers<a class="headerlink" href="#numbers" title="Permalink to this heading">¶</a></h2>
<p>Numeric values can be given in scientific notation: <code class="docutils literal notranslate"><span class="pre">0.001</span> <span class="pre">=</span> <span class="pre">1E-3</span> <span class="pre">=</span> <span class="pre">1e-3</span></code> or use metric prefixes: <code class="docutils literal notranslate"><span class="pre">2.2k</span> <span class="pre">=</span> <span class="pre">2200</span></code>. The following metric prefixes can be used:</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">SLiCAP metric prefixes</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 63%" />
<col style="width: 13%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>name</p></th>
<th class="head"><p>Symbol</p></th>
<th class="head"><p>Base 10 value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>peta</p></td>
<td><p>P</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{15}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>tera</p></td>
<td><p>T</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{12}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>giga</p></td>
<td><p>G</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{9}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>mega</p></td>
<td><p>M</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{6}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>kilo</p></td>
<td><p>k</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{3}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>mili</p></td>
<td><p>m</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-3}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>micro</p></td>
<td><p>u</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-6}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>nano</p></td>
<td><p>n</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-9}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>pico</p></td>
<td><p>p</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-12}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>femto</p></td>
<td><p>f</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-15}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>atto</p></td>
<td><p>a</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-18}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Please noitice these prefixes are case sentitive, and <code class="docutils literal notranslate"><span class="pre">MEG</span></code> and <code class="docutils literal notranslate"><span class="pre">meg</span></code> are not recognized as metric prefixes. This differs from the standard SPICE syntax.</p>
<p>From version 0.4 build 1350 the expression syntax checker can handle parameter names identical to metric prefixes.</p>
</div>
<div class="section" id="expressions">
<h2>Expressions<a class="headerlink" href="#expressions" title="Permalink to this heading">¶</a></h2>
<p>As with SPICE, expressions should be placed between curly brackets: <code class="docutils literal notranslate"><span class="pre">{&lt;</span> <span class="pre">myExpression</span> <span class="pre">&gt;}</span></code>. Metric prefix symbols, and white space characters can be included in expressions.</p>
</div>
<div class="section" id="reserved-sympy-symbols-and-slicap-built-in-variables">
<h2>Reserved (sympy) symbols and SLiCAP built-in variables<a class="headerlink" href="#reserved-sympy-symbols-and-slicap-built-in-variables" title="Permalink to this heading">¶</a></h2>
<p>Reserved symbols have a special meaning or value (within sympy). These symbols <strong>cannot be used as free variables</strong> in expressions:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E</p></td>
<td><p>sympy.E = <span class="math notranslate nohighlight">\(2.71828122845905 \cdots\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>I</p></td>
<td><p>sympy.I =  <span class="math notranslate nohighlight">\(\sqrt{-1}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>sympy.N function; evaluates the numeric value of an expression</p></td>
</tr>
<tr class="row-odd"><td><p>O</p></td>
<td><p>sympy.O function</p></td>
</tr>
<tr class="row-even"><td><p>S</p></td>
<td><p>sympy.S function</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>sympy.beta function</p></td>
</tr>
<tr class="row-even"><td><p>gamma</p></td>
<td><p>sympy.gamma function</p></td>
</tr>
<tr class="row-odd"><td><p>lambda</p></td>
<td><p>sympy.lambda function</p></td>
</tr>
<tr class="row-even"><td><p>Lambda</p></td>
<td><p>sympy.Lambda function</p></td>
</tr>
<tr class="row-odd"><td><p>pi</p></td>
<td><p>sympy.pi = <span class="math notranslate nohighlight">\(3.1459265358979 \cdots\)</span></p></td>
</tr>
<tr class="row-even"><td><p>zeta</p></td>
<td><p>sympy.zeta function</p></td>
</tr>
</tbody>
</table>
<p>SLiCAP built-in variables are defined in the library file <a class="reference external" href="../../../../files/lib/SLiCAPmodels.lib">SLiCAPmodels.lib</a>. These variables can be redefined by the user:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>c</p></td>
<td><p>SLiCAP built-in variable for the speed of light <span class="math notranslate nohighlight">\(c=2.99792458\cdot 10^8\)</span> m/s</p></td>
</tr>
<tr class="row-odd"><td><p>f</p></td>
<td><p>SLiCAP default symbol for frequency in [Hz] (ini.frequency)</p></td>
</tr>
<tr class="row-even"><td><p>k</p></td>
<td><p>SLiCAP built-in variable for Boltzmann’s constant: <span class="math notranslate nohighlight">\(k=1.38064852\cdot 10^{-23}\)</span> J/K</p></td>
</tr>
<tr class="row-odd"><td><p>q</p></td>
<td><p>SLiCAP built-in variable for the charge of an electron: <span class="math notranslate nohighlight">\(q=1.60217662\cdot 10^{-19}\)</span> C</p></td>
</tr>
<tr class="row-even"><td><p>s</p></td>
<td><p>SLiCAP default symbol for the Laplace variable (ini.Laplace)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>SLiCAP built-in variable for the absolute temperature <span class="math notranslate nohighlight">\(T=300\)</span> K</p></td>
</tr>
<tr class="row-even"><td><p>U_T</p></td>
<td><p>SLiCAP built-in variable for the thermal voltage: <span class="math notranslate nohighlight">\(U_T=\frac{kT}{q}\)</span> [V]</p></td>
</tr>
<tr class="row-odd"><td><p>mu_0</p></td>
<td><p>SLiCAP built-in vriable for the permittivity of vacuum : <span class="math notranslate nohighlight">\(\mu_0=4\pi 10^{-7}\)</span> H/m</p></td>
</tr>
<tr class="row-even"><td><p>epsilon_0</p></td>
<td><p>SLiCAP built-in variable for the permittivity of vacuum: <span class="math notranslate nohighlight">\(\epsilon_0=\frac{1}{\mu_0 c^2}\)</span> [F/m]</p></td>
</tr>
<tr class="row-odd"><td><p>epsilon_SiO2</p></td>
<td><p>SLiCAP built-in variable for the relative permittivity of <span class="math notranslate nohighlight">\(SiO_2\)</span> : <span class="math notranslate nohighlight">\(\epsilon_{SiO_2}=3.9\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="title-line">
<span id="title"></span><h2>Title line<a class="headerlink" href="#title-line" title="Permalink to this heading">¶</a></h2>
<p>The title definitions differs from SPICE:</p>
<p><strong>The first word or a double quoted string of an uncommented line of the netlist file is considered the title of the main circuit.</strong> If a title comprises several words separated by white space characters it should be placed between double quotation marks: <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>. Examples are listed below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>* myCircuit         ; a comment, not interpreted as title.
* Lines with elements or directives
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>myCircuit           ; a title without spaces
* Lines with elements or directives
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;My first circuit&quot;  ; a tittle including spaces
* Lines with elements or directives
</pre></div>
</div>
</div>
<div class="section" id="lib-line">
<h2>.lib line<a class="headerlink" href="#lib-line" title="Permalink to this heading">¶</a></h2>
<p>Library files containing model definitions and/or sub circuit definitions need to be included in the search path with the aid of the <code class="docutils literal notranslate"><span class="pre">.lib</span></code> instruction. Multiple library definitions can be included in one <code class="docutils literal notranslate"><span class="pre">.lib</span></code> line. Library files containing white space characters should be places between double quotation marks: <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>. The search path for the library file is specified by the variable <code class="docutils literal notranslate"><span class="pre">LIBRARYPATH</span></code> in <code class="docutils literal notranslate"><span class="pre">SLiCAPconfig.py</span></code> in the project directory.</p>
<p>The syntax for library files slightly differs from SPICE:</p>
<ul class="simple">
<li><p>The first line is consideres as tile</p></li>
<li><p>The last lane should be <code class="docutils literal notranslate"><span class="pre">.end</span></code></p></li>
</ul>
<p>In fact, SLiCAP library files have the same syntax as SLiCAP netlist files.</p>
<p>Library definitions should be declared before called. A call to a library occurs if a model name or sub circuit name occurs in an element definition while that model or sub circuit is not specified by a <code class="docutils literal notranslate"><span class="pre">.model</span></code> or a <code class="docutils literal notranslate"><span class="pre">.subckt</span></code> definition in the netlist itself. Valid library specifications look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.lib myLibrary.lib &quot;my very own circuits.lib&quot;
</pre></div>
</div>
</div>
<div class="section" id="subckt-ends-lines">
<span id="subckt"></span><h2>.subckt … .ends lines<a class="headerlink" href="#subckt-ends-lines" title="Permalink to this heading">¶</a></h2>
<p>Although SLiCAP is intended for the design and the analysis of rather small circuits, it allows you to use an unlimited hierarchy. It also checks for hierarchical loops. The structure of a sub circuit definition is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.subckt &lt; name &gt;
+ &lt; node1 &gt; &lt; node2 &gt; ( &lt; node3 &gt; ... )
+ ( &lt; param1 = value1 | {expr1} param2 = value2 | {expr2} &gt; ...)
* circuit lines
.ends
</pre></div>
</div>
<p>The input field <code class="docutils literal notranslate"><span class="pre">name</span></code> and a number of fields with the node names <code class="docutils literal notranslate"><span class="pre">node1</span> <span class="pre">node2</span> <span class="pre">...</span></code> are required. Each parameter definition consists of a parameter name followed by an equal sign and a value or an expression. Parameter definitions should <strong>not</strong> be placed between brackets <code class="docutils literal notranslate"><span class="pre">()</span></code>.</p>
<div class="section" id="passing-sub-circuit-parameters">
<h3>Passing sub circuit parameters<a class="headerlink" href="#passing-sub-circuit-parameters" title="Permalink to this heading">¶</a></h3>
<p>Parameters specified in the <code class="docutils literal notranslate"><span class="pre">.subckt</span></code> definition line are passed to the parent circuit. Other parameters used in element expressions and in parameter definitions between the <code class="docutils literal notranslate"><span class="pre">.subckt</span></code> and its corresponding <code class="docutils literal notranslate"><span class="pre">.ends</span></code> input lines remain local. Parameter values can be numerical or may be expressions comprising other parameters. Expressions need to be placed between curly brackets: <code class="docutils literal notranslate"><span class="pre">{&lt;</span> <span class="pre">myExpression</span> <span class="pre">&gt;}</span></code>. Input lines between the <code class="docutils literal notranslate"><span class="pre">.subckt</span></code> and its corresponding <code class="docutils literal notranslate"><span class="pre">.ends</span></code> instruction can be of any type. Hence, nesting of sub circuits is allowed.</p>
<p>Below an example of a netlist file with a sub circuit definition and a call to this sub circuit. The netlist file with the name <code class="docutils literal notranslate"><span class="pre">subckt.cir</span></code> is stored in the project directory. Please notice that this file only demonstrates the use of sub circuits with parameters. It is not at all a complete circuit description.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>testCircuit
.subckt myOpamp in+ in- out GND A_0 = {A_1} tau={t} R_o = 0.5k
E1 1 GND in+ in- {A_0/(1+s*tau)}
R1 1 out {R_o}
C1 in+ in- {C_i}
.param C_i=10p R_o=100
.ends
X1 1 2 3 0 myOpamp tau = {t_a} R_o = 200
.param A_1 = {g_m*Z_t} t_a = 1m g_m=10m Z_t=100M
.end
</pre></div>
</div>
<p>Parameters given in the <code class="docutils literal notranslate"><span class="pre">.subckt</span></code> line are passed to the parent circuit. They can be redefined in the sub circuit call. Hence, <code class="docutils literal notranslate"><span class="pre">A_0</span></code>, <code class="docutils literal notranslate"><span class="pre">tau</span></code> and <code class="docutils literal notranslate"><span class="pre">R_o</span></code> become parameters in the parent circuit. They can been assigned new values in the sub circuit call, in this example, this is the line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>X1 1 2 3 0 myOpamp tau = {t_a} R_o = 200
</pre></div>
</div>
<p>or in parameter definition lines. In this example this is the line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.param A_1 = {g_m*Z_t} t_a = 1m g_m=10m Z_t=100M
</pre></div>
</div>
<p>All other parameters in expressions and in parameter definitions of the sub circuit remain local. This will be done by adding the device name of the calling device as suffix to the parameter name:</p>
<ul class="simple">
<li><p>For nodes a dot <code class="docutils literal notranslate"><span class="pre">_</span></code> will be placed between the node name and the device name.</p></li>
<li><p>For parameters <code class="docutils literal notranslate"><span class="pre">_</span></code> will be placed between the parameter name and the device name.</p></li>
</ul>
<p>All nodes except the connecting nodes and the ground node <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> are local.</p>
</div>
</div>
<div class="section" id="model-line">
<h2>.model line<a class="headerlink" href="#model-line" title="Permalink to this heading">¶</a></h2>
<p>Models can be defined in a line starting with the keyword <code class="docutils literal notranslate"><span class="pre">.model</span></code> (not case sensitive). The syntax for a <code class="docutils literal notranslate"><span class="pre">.model</span></code> line is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.model &lt; modelName &gt; &lt; modelType &gt;
+ ( &lt; param1 = value1 | {expr1} &gt; &lt; param2 = value2 | {expr2} &gt; ...)
</pre></div>
</div>
<p>The fields <code class="docutils literal notranslate"><span class="pre">modelName</span></code> and <code class="docutils literal notranslate"><span class="pre">modelType</span></code> are required. Parameter definition fields are optional. If no parameter definitions are given, defaults values are assumed. A model name should not start with a number. This would result in misinterpretation by the netlist parser. Hence, a model name like <code class="docutils literal notranslate"><span class="pre">2n3904</span></code> could be interpreted as <code class="docutils literal notranslate"><span class="pre">2e-9</span></code> followed by <code class="docutils literal notranslate"><span class="pre">3904</span></code> which yields a syntax error in a value. Such errors can be prevented using a letter as first character in a model name, e.g. <code class="docutils literal notranslate"><span class="pre">Q2n3904</span></code>. This is common practice in SPICE.</p>
<p>Parameter definitions need not to be placed between brackets <code class="docutils literal notranslate"><span class="pre">()</span></code>. This may differ from some SPICE dialects.</p>
<div class="section" id="passing-model-parameters">
<h3>Passing model parameters<a class="headerlink" href="#passing-model-parameters" title="Permalink to this heading">¶</a></h3>
<p>Passing model parameters tworks similar as passing sub circuit parameters. This is elucidated in the example below. Consider hereto the following netlist file with a model definition:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>modelTest
I1 0 b 1u
R1 c 0 1k
Q1 c b 0 0 Q2N3904 gm={I_c*q_e/(k_B*T_A)} gpi={I_c*q_e/(k_B*T_A)/beta_AC}
.param I_c=2m beta_AC={beta_DC} beta_DC=100
.model Q2N3904 QV
.end
</pre></div>
</div>
<p>The model <code class="docutils literal notranslate"><span class="pre">QV</span></code> is that of a 4-terminal vertical bipolar transistor. It can be used for a three terminal transistor by connecting the last two terminals (emitter and substrate) to the same circuit node. The built-in model for this device has the following parameters with their default values: <code class="docutils literal notranslate"><span class="pre">cpi</span> <span class="pre">=</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">cbc</span> <span class="pre">=</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">cbx</span> <span class="pre">=</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">cs</span> <span class="pre">=</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">gpi</span> <span class="pre">=</span> <span class="pre">400e-6</span></code>, <code class="docutils literal notranslate"><span class="pre">gm</span> <span class="pre">=</span> <span class="pre">40e-3</span></code>, <code class="docutils literal notranslate"><span class="pre">go</span> <span class="pre">=0</span></code>, <code class="docutils literal notranslate"><span class="pre">rb</span> <span class="pre">=</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">gbc</span> <span class="pre">=</span> <span class="pre">0</span></code></p>
<p>The above model definition for the <code class="docutils literal notranslate"><span class="pre">Q2N3904</span></code> overrides the values of <code class="docutils literal notranslate"><span class="pre">gpi</span></code> and <code class="docutils literal notranslate"><span class="pre">gm</span></code>, all other parameters obtain their default value. The input resistance and the transconductance of this transistor have been redefined as a function of the collector current <code class="docutils literal notranslate"><span class="pre">I_c</span></code>. This current has been defined in the line: <code class="docutils literal notranslate"><span class="pre">.param</span> <span class="pre">I_c=2m</span> <span class="pre">beta_AC=beta_DC</span> <span class="pre">beta_DC=100</span></code></p>
</div>
</div>
<div class="section" id="param-line">
<h2>.param line<a class="headerlink" href="#param-line" title="Permalink to this heading">¶</a></h2>
<p>Parameter definition lines are used to assign numerical values or expressions to circuit parameters. At least one parameter definition should be given in a parameter definition line. The syntax for a parameter definition line is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.param &lt; param1 = value1 | {expr1} &gt; ( &lt; param2 = value2 | {expr2} ... )
</pre></div>
</div>
<p>Parameters defined in parameter definition lines in sub circuits are local for that sub circuit unless these parameters are passed to the parent circuit.</p>
</div>
<div class="section" id="device-definition-lines">
<h2>Device definition lines<a class="headerlink" href="#device-definition-lines" title="Permalink to this heading">¶</a></h2>
<p>The actual circuit is specified by the device definition lines. The syntax for these lines is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt; deviceID &gt; &lt; node1 | ref1 &gt; &lt; node2 | ref2 &gt; ( &lt; node3 &gt; ...) &gt;
+ &lt; value | {expr} | modelName &gt;
+ ( &lt; param1 = value1 | {expr1} &gt; &lt; param2 = value2 | {expr2} &gt; ...)
</pre></div>
</div>
<p>A device definition line starts with the device identifier field: <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">deviceID</span> <span class="pre">&gt;</span></code> . The first character of name is interpreted as the device type identifier. The device type identifier is not case sensitive.</p>
<p>Other required fields are: at least two fields with node names or deviceIDs of other devices. If no <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">value</span> <span class="pre">|</span> <span class="pre">{expr}</span> <span class="pre">|</span> <span class="pre">modelName</span> <span class="pre">&gt;</span></code> field is specified, a default model with default parameter valuess is
assumed. Node names and model names are case sensitive character strings.</p>
<p>A model name is a character string that cannot be interpreted as a number. Expressions need to be placed between curly brackets: <code class="docutils literal notranslate"><span class="pre">{}</span></code>. A coupling factor device has two references to inductors instead of two nodes.</p>
<p>Parameter definitions can only be given in combination with a model name. If no model parameters are specified, values from a <code class="docutils literal notranslate"><span class="pre">.model</span></code> line are assumed. If such a line does not exist, default parameter values are assumed.</p>
<p>Below different ways of defining a resistor R1 of 10kOhm between nodes 1 and 2:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>R1 1 2 10k ; default model (R) will be used

R1 1 2 R value=10k ; model R: resistor value cannot be zero

R1 1 2 r value=10k ; model r: resistor value can be zero

R1 1 2 myR
.model myR R value=10k

R1 1 2 myOtherR value=10k
.model myOtherR R
</pre></div>
</div>
</div>
<div class="section" id="end-line">
<h2>.end line<a class="headerlink" href="#end-line" title="Permalink to this heading">¶</a></h2>
<p>A line starting with <code class="docutils literal notranslate"><span class="pre">.end</span></code> concludes the netlist input. Lines following this line are ignored.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="devices.html" class="btn btn-neutral float-right" title="Devices and built-in models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="SLiCAPnetlistSyntax.html" class="btn btn-neutral float-left" title="SLiCAP netlist syntax" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, SLiCAP development team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>